#!/usr/bin/env python3

import socket

def socket_():
    # Endereço e porta do servidor
    host = "37.59.174.225"  # Endereço do servidor
    porta = 22           # Porta do servidor
    
    #Criar um objeto de socket
    cliente = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
    
    cliente.settimeout(1)  # Define um tempo limite de 1 segundo para a conexão
    
    #Conectar ao servidor
    resultado = cliente.connect_ex((host, porta))
    
    #Enviar uma mensagem para o servidor
    mensagem = "Olá, servidor!"
    cliente.sendall(mensagem.encode())
    
    if resultado == 0:
       print(f"A porta {porta} em {host} está aberta")
    else:
       print(f"A porta {porta} em {host} está fechada")

    #Receber a resposta do servidor
    dados = cliente.recv(1024)

    #Exibir a resposta
    print("Resposta do servidor:", dados.decode())

    #Fechar a conexão
    cliente.close()

    #Pegando o IP de um dominio     
    dominio = "www.example.com"

    try:
       endereco_ip = socket.gethostbyname(dominio)
       print(f"Endereço IP de {dominio}: {endereco_ip}")
    except socket.gaierror:
       print(f"Não foi possível obter o endereço IP de {dominio}")
       
def main():
    socket_()


if __name__ == '__main__':
    main()
